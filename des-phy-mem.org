#+TITLE: 内存管理之描述物理内存
#+AUTHOR: Cauchy
#+OPTIONS: ^:nil
#+EMAIL: pqy7172@gmail.com
#+HTML_HEAD: <link rel="stylesheet" href="./org-manual.css" type="text/css">

本文介绍Linux内存管理的一部分，即Linux内核是如何描述物理内存的。

Linux的内存管理适用于所有架构，所以内存管理必有它的一些跨架构上层的通用概念（数据结构）。
首先要区分下的是UMA（Uniform Memory Access）和NUMA（Non Uniform Memory Access）。前者的意
义是，对于所有物理内存来说其被CPU访问的时间都是一样的。对于后者，却把内存划分为许多
Bank（姑且理解为块），依据它们到物理内存的远近，其访问时间是不一样的。另外一些内存又可以划
分为DMA的用途，也就是供给设备直接访问，从这个角度看，DMA和node（下文）是同等层次的概念。

描述这样的一个bank，叫做结点（node），以数据结构pg_data_t表示之。内存的统计信息和页面替换
都是在node的层次上做的。在NUMA机器上，一个NUMA node就会有一个pg_data_t结构体表示，而对于
UMA机器，则是一个pg_data_t结构体表示所有内存。

node又往下分为很多的zones，在内核里用zone结构体表示。这些zone又划分为不同的类型，比如有
ZONE_DMA，ZONE_NORMAL，ZONE_HIGHMEM。

* 结点
